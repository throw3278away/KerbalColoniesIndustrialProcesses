KCFacilityConfig
{
    name = KCIPNuclearWorksFacility
    displayName = Advanced ISRU Facility
    type = KCResourceConverterFacility
	
	category = Resource Refinement

    level
    {
        0
        {
            basegroupName = KC_Base_ISRU_T2
            resources { RocketParts = 2000 }
            upgradeTime = 1200
			minCABLevel = 2
			
            maxKerbals = 6
            minKerbals = 4
            ISRUcount = 4
            ECperSecond = 130
            allowedTraits = Engineer
            conversionList = KCIP-NuclearWorks
			
			techNodes = advMetalworks
			description = Advanced ISRU for more advanced resource refinement recipes.
			manufacturer = KCIP

        }
        1
        {
            basegroupName = KC_Base_ISRU_T3
            resources { RocketParts = 2000 }
            upgradeTime = 1200
			minCABLevel = 2
			
            ISRUcount = 9
            ECperSecond = 120
            upgradeType = withAdditionalGroup

			techNodes = nanolathing
			description = Expansion to the Advanced ISRU.
			manufacturer = KCIP
        }
        2
        {
            basegroupName = KC_Base_ISRU_T1
            resources { RocketParts = 1000 }
            upgradeTime = 1600
            minCABLevel = 3
			
            minKerbals = 0
            ISRUcount = 2
            ECperSecond = 110
            upgradeType = withAdditionalGroup
			
			techNodes:NEEDS[!CommunityTechTree] = nanolathing
			techNodes:NEEDS[CommunityTechTree] = artificialIntelligence
			description = Automated control system for the Advanced ISRU.
			manufacturer = KCIP
        }
    }
}

// Values taken from RR Blacksmith
KCResourceConversionRate:NEEDS[CommunityResourcePack]
{
	name = KCIP-EnrichUranium
	displayName = KCIP Enrich Uranium from Uraninite
	inputResources
	{
		Uraninite = 0.036
	}
	outputResources
	{
		EnrichedUranium = 0.0217
	}
}
KCResourceConversionList:NEEDS[CommunityResourcePack]
{
	name = KCIP-NuclearWorks
	recipeName = KCIP-EnrichUranium,
}
// No CRP installed
KCResourceConversionList:NEEDS[!CommunityResourcePack]
{
	name = KCIP-NuclearWorks
	recipeName = 
}

