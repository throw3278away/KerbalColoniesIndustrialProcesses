// MKS with EL uses MaterialKits and SpecializedParts to build stuff
// Additionally, many MKS buildings requires Machinery to operate, so it will be added to requirements
// This patch will put all KCFacility in a similar line

@KCFacilityConfig[*]:NEEDS[KerbalColonies,KolonyTools]:LAST[zzzzKCIP]
{
	@level
	{
		@*:HAS[@resources]
		{
			@resources:HAS[#RocketParts,!#Ore]
			{
				%SpecializedParts = #$RocketParts$
				@SpecializedParts *= 10
				%MaterialKits = #$RocketParts$
				@MaterialKits *= 180
				%Machinery = #$RocketParts$
				@Machinery *= 30
			}
			@resources:HAS[!#RocketParts,#Ore]
			{
				%MaterialKits += #$Ore$
				@MaterialKits *= 180
			}
			@resources:HAS[#RocketParts,#Ore]
			{
				%SpecializedParts = #$RocketParts$
				@SpecializedParts *= 10
				%MaterialKits = #$RocketParts$
				@MaterialKits += #$Ore$
				@MaterialKits *= 180
				%Machinery = #$RocketParts$
				@Machinery *= 30
			}
			@resources
			{
				!RocketParts = 0
				!Ore = 0
			}
		}
	}
}

@KCFacilityConfig[*]:HAS[#type[KCProductionFacility]]:NEEDS[KerbalColonies,KolonyTools]:LAST[zzzzKCIP]
{
	@level
	{
		@*:HAS[@vesselResourceCost]
		{
			@vesselResourceCost:HAS[#RocketParts]
			{
				%MaterialKits = #$RocketParts$
				@MaterialKits *= 0.8
				%SpecializedParts = #$RocketParts$
				@SpecializedParts *= 0.2
				!RocketParts = 0
			}
			@vesselResourceCost:HAS[#Ore]
			{
				!Ore = 0
			}
		}
	}
}