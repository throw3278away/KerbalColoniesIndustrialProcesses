// CAB
@KCFacilityConfig[CAB]:NEEDS[CommunityTechTree]:LAST[zKCIP]
{
	@level{@0{%techNodes = longTermHabitation}
	       @1{%techNodes = longTermHabitation}
		   @2{%techNodes = colonization}
		   @3{%techNodes = advColonization}}
}

// Fusion reactor
@KCFacilityConfig[KCFusionreactorFacility]:NEEDS[CommunityTechTree]:LAST[zKCIP]
{
	@level{@0{%techNodes = advFusionReactions}}
}

// Fission reactor
@KCFacilityConfig[KCFissionreactorFacility]:NEEDS[CommunityTechTree]:LAST[zKCIP]
{
	@level{@0{%techNodes = advNuclearPower}}
}

// Force all nodes that are used to stay visible. This is required or Hide Empty Tech Tree Nodes
// will get rid of any nodes with no parts but with KC facilities. This needs to be applied on FINAL
// to prevent any other mods from changing the hidden state.
@TechTree:NEEDS[CommunityTechTree]:FINAL
{
	@RDNode:HAS[#id[*]]{%hideEmpty = True}
	@RDNode:HAS[#id[colonization]]{%hideEmpty = False}
	@RDNode:HAS[#id[advColonization]]{%hideEmpty = False}
	@RDNode:HAS[#id[artificialIntelligence]]{%hideEmpty = False}
	@RDNode:HAS[#id[advOffworldMining]]{%hideEmpty = False}
	@RDNode:HAS[#id[resourceExploitation]]{%hideEmpty = False}
	@RDNode:HAS[#id[nuclearPower]]{%hideEmpty = False}
	@RDNode:HAS[#id[storageTech]]{%hideEmpty = False}
	@RDNode:HAS[#id[logistics]]{%hideEmpty = False}
	@RDNode:HAS[#id[advLogistics]]{%hideEmpty = False}
	@RDNode:HAS[#id[advNuclearPower]]{%hideEmpty = False}
	@RDNode:HAS[#id[advFusionReactions]]{%hideEmpty = False}
	@RDNode:HAS[#id[longTermHabitation]]{%hideEmpty = False}
}